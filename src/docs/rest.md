# REST-протокол

[Документация Swagger](https://tinkoff.github.io/invest-openapi/swagger-ui/)

## Ограничение количества запросов

| Ресурс               | Количество запросов для пользователя | Количество запросов на IP | Интервал ограничения |
| :------------------- | :----------------------------------- | :------------------------ | :------------------- |
| /sandbox             | 120                                  | 1000                      | 1 минута             |
| /portfolio           | 120                                  | 1000                      | 1 минута             |
| /market              | 240                                  | 500                       | 1 минута             |
| /orders              | 100                                  | 1000                      | 1 минута             |
| /orders/limit-order  | 100                                  | 1000                      | 1 минута             |
| /orders/market-order | 100                                  | 1000                      | 1 минута             |
| /orders/cancel       | 50                                   | 1000                      | 1 минута             |
| /operations          | 120                                  | 1000                      | 1 минута             |


При превышении лимита запросов возвращается ошибка `429 Error: Too Many Requests`

### Ограничение количества запросов от Московской Биржи (MOEX)

* Среднее допустимое количество действий в секунду 150 запросов в течение 5 минут
* Среднее допустимое количество сообщений об ошибке в секунду 10 в течение 5 минут

Под запросами в биржу подразумевается выставление и отмена заявок

## Генерация

REST API использует OpenAPI 3.0.0, для генерации клиентов необходимо использовать новую версию [swagger-gen](https://github.com/swagger-api/swagger-codegen/tree/3.0.0).

`swagger.yaml` доступен по адресу `https://tinkoff.github.io/invest-openapi/swagger-ui/swagger.yaml`.
